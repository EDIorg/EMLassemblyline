<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Make EML metadata — make_eml • EMLassemblyline</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Make EML metadata — make_eml"><meta property="og:description" content="Render the contents of metadata templates into EML, validate, and write
    to file."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">EMLassemblyline</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">3.5.8</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Functions</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/overview.html">Overview</a>
    </li>
    <li>
      <a href="../articles/organize_data_package.html">Organize data package</a>
    </li>
    <li>
      <a href="../articles/create_tmplts.html">Template metadata</a>
    </li>
    <li>
      <a href="../articles/edit_tmplts.html">Edit metadata templates</a>
    </li>
    <li>
      <a href="../articles/create_eml.html">Make EML</a>
    </li>
    <li>
      <a href="../articles/publish_data_package.html">Publish data package</a>
    </li>
    <li>
      <a href="../articles/auto_pub.html">Automate data publication</a>
    </li>
    <li>
      <a href="../articles/exchange_format.html">Use EMLassemblyline via exchange format</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/EDIorg/EMLassemblyline/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Make EML metadata</h1>
    <small class="dont-index">Source: <a href="https://github.com/EDIorg/EMLassemblyline/blob/main/R/make_eml.R" class="external-link"><code>R/make_eml.R</code></a></small>
    <div class="hidden name"><code>make_eml.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Render the contents of metadata templates into EML, validate, and write
    to file.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">make_eml</span><span class="op">(</span></span>
<span>  <span class="va">path</span>,</span>
<span>  data.path <span class="op">=</span> <span class="va">path</span>,</span>
<span>  eml.path <span class="op">=</span> <span class="va">path</span>,</span>
<span>  dataset.title <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  temporal.coverage <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  geographic.description <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  geographic.coordinates <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  maintenance.description <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  data.table <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  data.table.name <span class="op">=</span> <span class="va">data.table</span>,</span>
<span>  data.table.description <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  data.table.quote.character <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  data.table.url <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  other.entity <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  other.entity.name <span class="op">=</span> <span class="va">other.entity</span>,</span>
<span>  other.entity.description <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  other.entity.url <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  provenance <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  user.id <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  user.domain <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  package.id <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  write.file <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  return.obj <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  x <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-path">path<a class="anchor" aria-label="anchor" href="#arg-path"></a></dt>
<dd><p>(character) Path to the metadata template directory.</p></dd>


<dt id="arg-data-path">data.path<a class="anchor" aria-label="anchor" href="#arg-data-path"></a></dt>
<dd><p>(character) Path to the data directory.</p></dd>


<dt id="arg-eml-path">eml.path<a class="anchor" aria-label="anchor" href="#arg-eml-path"></a></dt>
<dd><p>(character) Path to the EML directory, where EML files are written.</p></dd>


<dt id="arg-dataset-title">dataset.title<a class="anchor" aria-label="anchor" href="#arg-dataset-title"></a></dt>
<dd><p>(character) Title of the dataset.</p></dd>


<dt id="arg-temporal-coverage">temporal.coverage<a class="anchor" aria-label="anchor" href="#arg-temporal-coverage"></a></dt>
<dd><p>(character) Beginning and ending dates of the dataset in the format
"YYYY-MM-DD" (e.g.
<code>temporal.coverage = c('2012-05-01', '2014-11-30')</code>).</p></dd>


<dt id="arg-geographic-description">geographic.description<a class="anchor" aria-label="anchor" href="#arg-geographic-description"></a></dt>
<dd><p>(character) Description of datasets geographic extent. Don't use this
argument if geographic coverage is supplied by geographic_coverage.txt.</p></dd>


<dt id="arg-geographic-coordinates">geographic.coordinates<a class="anchor" aria-label="anchor" href="#arg-geographic-coordinates"></a></dt>
<dd><p>(character) Coordinates of datasets geographic extent. Coordinates are
listed in this order: North, East, South, West (e.g.
<code>geographic.coordinates = c('28.38', '-119.95', '28.38', '-119.95')</code>).
Longitudes west of the prime meridian and latitudes south of the equator
are negative. Don't use this argument if geographic coverage is supplied
by geographic_coverage.txt.</p></dd>


<dt id="arg-maintenance-description">maintenance.description<a class="anchor" aria-label="anchor" href="#arg-maintenance-description"></a></dt>
<dd><p>(character) A description of data collection status (e.g. "ongoing",
"complete"), communicating the frequency of updates.</p></dd>


<dt id="arg-data-table">data.table<a class="anchor" aria-label="anchor" href="#arg-data-table"></a></dt>
<dd><p>(character; optional) Table file name. If more than one, then supply
as a vector of character strings (e.g.
<code>data.table = c("nitrogen.csv", "decomp.csv")</code>).</p></dd>


<dt id="arg-data-table-name">data.table.name<a class="anchor" aria-label="anchor" href="#arg-data-table-name"></a></dt>
<dd><p>(character; optional) A short descriptive name for the table. Defaults
to <code>data.table</code>. If more than one, then supply as a vector of
character strings in the same order as listed in <code>data.table</code>.</p></dd>


<dt id="arg-data-table-description">data.table.description<a class="anchor" aria-label="anchor" href="#arg-data-table-description"></a></dt>
<dd><p>(character; optional) Table description. If more than one, then supply
as a vector of character strings in the same order as listed in
<code>data.table</code>.</p></dd>


<dt id="arg-data-table-quote-character">data.table.quote.character<a class="anchor" aria-label="anchor" href="#arg-data-table-quote-character"></a></dt>
<dd><p>(character; optional) Quote character used in <code>data.table</code>. If
more than one, then supply as a vector of character strings in the same
order as listed in <code>data.table</code>. If the quote character is a quotation,
then enter <code>'"'</code>. If the quote character is an apostrophe, then
enter <code>"'"</code>. If wanting to include quote characters for some but
not all <code>data.table</code>, then use a "" for those that don't have a
quote character (e.g. <code>data.table.quote.character =
c("'", "")</code>).</p></dd>


<dt id="arg-data-table-url">data.table.url<a class="anchor" aria-label="anchor" href="#arg-data-table-url"></a></dt>
<dd><p>(character; optional) The publicly accessible URL from which
<code>data.table</code> can be downloaded. If more than one, then supply as
a vector of character strings in the same order as listed in
<code>data.table</code>. If wanting to include URLs for some but not all
<code>data.table</code>, then use a "" for those that don't have a URL
(e.g. <code>data.table.url = c("", "/url/to/decomp.csv")</code>).</p></dd>


<dt id="arg-other-entity">other.entity<a class="anchor" aria-label="anchor" href="#arg-other-entity"></a></dt>
<dd><p>(character; optional) Name of <code>other.entity</code>(s) in this
dataset. Use <code>other.entity</code> for all non-<code>data.table</code> files.
<code>other.entity</code>(s) should be stored at <code>data.path</code>. If more
than one, then supply as a vector of character strings (e.g.
<code>other.entity = c('ancillary_data.zip', 'quality_control.R')</code>).</p></dd>


<dt id="arg-other-entity-name">other.entity.name<a class="anchor" aria-label="anchor" href="#arg-other-entity-name"></a></dt>
<dd><p>(character; optional) A short descriptive name for the other.entity.
Defaults to <code>other.entity</code>. If more than one, then supply as a
vector of character strings in the same order as listed in
<code>other.entity</code>.</p></dd>


<dt id="arg-other-entity-description">other.entity.description<a class="anchor" aria-label="anchor" href="#arg-other-entity-description"></a></dt>
<dd><p>(character; optional) Description(s) of <code>other.entity</code>(s). If more
than one, then supply as a vector of descriptions in the same order as
listed in <code>other.entity</code>.</p></dd>


<dt id="arg-other-entity-url">other.entity.url<a class="anchor" aria-label="anchor" href="#arg-other-entity-url"></a></dt>
<dd><p>(character; optional) The publicly accessible URL from which
<code>other.entity</code> can be downloaded. If more than one, then supply as
a vector of character strings in the same order as listed in
<code>other.entity</code>. If wanting to include URLs for some but not all
<code>other.entity</code>, then use a "" for those that don't have a URL
(e.g. <code>other.entity.url = c("", "/url/to/quality_control.R")</code>).</p></dd>


<dt id="arg-provenance">provenance<a class="anchor" aria-label="anchor" href="#arg-provenance"></a></dt>
<dd><p>(character; optional) EDI Data Repository Data package ID(s)
corresponding to parent datasets from which this dataset was created
(e.g. <code>knb-lter-cap.46.3</code>).</p></dd>


<dt id="arg-user-id">user.id<a class="anchor" aria-label="anchor" href="#arg-user-id"></a></dt>
<dd><p>(character; optional) Repository user identifier. If more than one,
then enter as a vector of character strings (e.g.
<code>c("user_id_1", "user_id_2")</code>). <code>user.id</code> sets the
/eml/access/principal element for all <code>user.domain</code> except
"KNB", "ADC", and if <code>user.domain = NULL</code>.</p></dd>


<dt id="arg-user-domain">user.domain<a class="anchor" aria-label="anchor" href="#arg-user-domain"></a></dt>
<dd><p>(character; optional) Repository domain associated with
<code>user.id</code>. Currently supported values are "EDI"
(Environmental Data Initiative), "LTER" (Long-Term Ecological Research
Network), "KNB" (The Knowledge Network for Biocomplexity), "ADC" (The
Arctic Data Center). If you'd like your system supported please contact
maintainers of the EMLassemblyline R package. If using more than one
<code>user.domain</code>, then enter as a vector of character strings (e.g.
<code>c("user_domain_1", "user_domain_2")</code>) in the same order as
corresponding <code>user.id</code>. If <code>user.domain</code> is missing then a
default value "unknown" is assigned. <code>user.domain</code> sets the EML
header "system" attribute and for all <code>user.domain</code>, except "KNB"
and "ADC", sets the /eml/access/principal element attributes and values.</p></dd>


<dt id="arg-package-id">package.id<a class="anchor" aria-label="anchor" href="#arg-package-id"></a></dt>
<dd><p>(character; optional) Data package ID for the dataset described by this
EML. Ask your data repository for a package ID. Missing <code>package.id</code>
is assigned a UUID.</p></dd>


<dt id="arg-write-file">write.file<a class="anchor" aria-label="anchor" href="#arg-write-file"></a></dt>
<dd><p>(logical; optional) Whether to write the EML file.</p></dd>


<dt id="arg-return-obj">return.obj<a class="anchor" aria-label="anchor" href="#arg-return-obj"></a></dt>
<dd><p>(logical; optional) Whether to return the EML as an R object of class <code>EML object</code>. This EML object can be modified and written to file according to the <a href="https://github.com/ropensci/EML" class="external-link">EML R library</a>.</p></dd>


<dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>(named list; optional) Alternative input to
<code>make_eml()</code>. Use <code><a href="template_arguments.html">template_arguments()</a></code>
to create <code>x</code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>

<ul><li><p><strong>EML file</strong> written to <code>eml.path</code>.</p></li>
<li><p><strong>EML object</strong> when <code>return.obj = TRUE</code>.</p></li>
</ul></div>
    <div id="details">
    <h2>Details</h2>
    <p><code>make_eml()</code> reads the contents of metadata templates,
    auto-extracts additional metadata from the data entities, appends value
    added content (e.g. resolving keywords to controlled vocabularies), and
    adds all the metadata content to locations in the EML schema according
    with best practice recommendations of scientists, data managers, and
    data repositories. The EML is then validated against the schema and
    written to file.</p>
<p>Character encodings in tabular metadata templates are converted to UTF-8
    via <code><a href="https://rdrr.io/r/base/Encoding.html" class="external-link">enc2utf8()</a></code>. Characters in TextType metadata templates are not
    yet converted. Note: This may lead to an inaccuracy and disconnect
    between values in the data objects and what is reported in the EML (e.g.
    a categorical variable listed in the EML may not be the same as it's
    corresponding value in the data object). For this reason it's important
    to work with UTF-8 encoded data and metadata.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Set working directory</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="st">"/Users/me/Documents/data_packages/pkg_260"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># For 2 tables and 2 other entities</span></span></span>
<span class="r-in"><span><span class="fu">make_eml</span><span class="op">(</span></span></span>
<span class="r-in"><span>  path <span class="op">=</span> <span class="st">"./metadata_templates"</span>,</span></span>
<span class="r-in"><span>  data.path <span class="op">=</span> <span class="st">"./data_objects"</span>,</span></span>
<span class="r-in"><span>  eml.path <span class="op">=</span> <span class="st">"./eml"</span>,</span></span>
<span class="r-in"><span>  dataset.title <span class="op">=</span> <span class="st">"Sphagnum and Vascular Plant Decomposition under Increasing Nitrogen Additions"</span>,</span></span>
<span class="r-in"><span>  temporal.coverage <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2014-05-01"</span>, <span class="st">"2015-10-31"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  maintenance.description <span class="op">=</span> <span class="st">"Completed: No updates to these data are expected"</span>,</span></span>
<span class="r-in"><span>  data.table <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"decomp.csv"</span>, <span class="st">"nitrogen.csv"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  data.table.description <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Decomposition data"</span>, <span class="st">"Nitrogen data"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  other.entity <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ancillary_data.zip"</span>, <span class="st">"processing_and_analysis.R"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  other.entity.description <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Ancillary data"</span>, <span class="st">"Data processing and analysis script"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  user.id <span class="op">=</span> <span class="st">"myid"</span>,</span></span>
<span class="r-in"><span>  user.domain <span class="op">=</span> <span class="st">"EDI"</span>,</span></span>
<span class="r-in"><span>  package.id <span class="op">=</span> <span class="st">"edi.260.1"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Colin Smith.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

