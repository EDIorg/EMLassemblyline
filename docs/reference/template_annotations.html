<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Add semantic meaning — template_annotations • EMLassemblyline</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Add semantic meaning — template_annotations" />
<meta property="og:description" content="Adds semantic meaning to dataset features (variables, locations, persons, etc.) through links to ontology terms. Run this function after all your EAL metadata templates are complete or if you're annotating an existing EML file. Annotating a dataset enables greater human understanding and machine actionability (linked data) and vastly improves the accuracy of future user searches and the interoperability of data in general." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">EMLassemblyline</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">3.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Functions</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/overview.html">Overview</a>
    </li>
    <li>
      <a href="../articles/organize_data_package.html">Organize data package</a>
    </li>
    <li>
      <a href="../articles/create_metadata_templates.html">Template metadata</a>
    </li>
    <li>
      <a href="../articles/edit_metadata_templates.html">Edit metadata templates</a>
    </li>
    <li>
      <a href="../articles/create_eml.html">Make EML</a>
    </li>
    <li>
      <a href="../articles/publish_data_package.html">Publish data package</a>
    </li>
    <li>
      <a href="../articles/automate_data_publication.html">Automate data publication</a>
    </li>
    <li>
      <a href="../articles/emlassemblyline_via_exchange_format.html">Use EMLassemblyline via exchange format</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/EDIorg/EMLassemblyline/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Add semantic meaning</h1>
    <small class="dont-index">Source: <a href='https://github.com/EDIorg/EMLassemblyline/blob/master/R/template_annotations.R'><code>R/template_annotations.R</code></a></small>
    <div class="hidden name"><code>template_annotations.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Adds semantic meaning to dataset features (variables, locations, persons, etc.) through links to ontology terms. Run this function after all your EAL metadata templates are complete or if you're annotating an existing EML file. Annotating a dataset enables greater human understanding and machine actionability (linked data) and vastly improves the accuracy of future user searches and the interoperability of data in general.</p>
    </div>

    <pre class="usage"><span class='fu'>template_annotations</span>(
  <span class='no'>path</span>,
  <span class='kw'>data.path</span> <span class='kw'>=</span> <span class='no'>path</span>,
  <span class='kw'>data.table</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>other.entity</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>default.annotations</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>eml.path</span> <span class='kw'>=</span> <span class='no'>path</span>,
  <span class='kw'>eml</span> <span class='kw'>=</span> <span class='kw'>NULL</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>path</th>
      <td><p>(character) Path to the metadata template directory and where 
annotations.txt will be written.</p></td>
    </tr>
    <tr>
      <th>data.path</th>
      <td><p>(character; optional) Path to the data directory. Defaults to 
<code>path</code>.</p></td>
    </tr>
    <tr>
      <th>data.table</th>
      <td><p>(character; optional) Table name. If more than one, then supply as a 
vector of character strings (e.g. 
<code>data.table = c('nitrogen.csv', 'decomp.csv')</code>).</p></td>
    </tr>
    <tr>
      <th>other.entity</th>
      <td><p>(character; optional) Other entity name. If more than one, then supply 
as a vector of character strings (e.g. 
<code>other.entity = c('maps.zip', 'analysis.R')</code>).</p></td>
    </tr>
    <tr>
      <th>default.annotations</th>
      <td><p>(data frame; optional) Default annotations added to annotations.txt. 
EMLassemblyline specified defaults are used unless specifying your own 
(see note below). You can manually change these after annotations.txt
has been created.</p></td>
    </tr>
    <tr>
      <th>eml.path</th>
      <td><p>(character; optional) Path to the EML directory. Use this if creating
annotations.txt for an EML file. Defaults to <code>path</code>.</p></td>
    </tr>
    <tr>
      <th>eml</th>
      <td><p>(EML file; optional) An EML file located at <code>eml.path</code>. 
Use this if annotating an existing EML file.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><strong>annotations.txt</strong> The tab delimited annotations template, 
    pre-populated with default annotations, and containing the fields:</p><ul>
<li><p>id - A unique identifier for the element being annotated.</p></li>
<li><p>element - The element being annotated.</p></li>
<li><p>context - The context of the subject (i.e. element value) being 
      annotated (e.g. If the same column name occurs in more than one data 
      tables, you will need to know which table it came from.).</p></li>
<li><p>subject - The element value to be annotated.</p></li>
<li><p>predicate_label - The predicate label (a.k.a. property) 
      describing the relation of the subject to the object. This label 
      should be copied directly from an ontology.</p></li>
<li><p>predicate_uri - The predicate label URI copied directly from an 
      ontology.</p></li>
<li><p>object_label - The object label (a.k.a. value) describing the 
      subject. This label should be copied directly from an ontology.</p></li>
<li><p>object_uri - The object URI copied from an ontology.</p></li>
</ul><p>The general user should ignore the id and element fields and focus on
    the subject, context predicate_label, predicate_uri, object_label, and 
    object_uri fields. Only the predicate and object fields should be 
    modified. If you want to add an annotation to any of the listed 
    subjects, simply copy the full row containing the subject, paste it in 
    as new line, and modify the predicate and object fields.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function gathers annotatable elements from your EML and assigns default predicate labels and URIs. You must provide object labels and URIs from the ontology of your choosing.</p>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>To set your own default annotations, copy the EMLassemblyline defaults 
    (<code><a href='https://rdrr.io/r/base/files.html'>file.copy(from = system.file("/templates/annotation_defaults.txt", package = "EMLassemblyline"), to = path)</a></code>, 
    where path is where you want the file written to) then change the values 
    in the predicate_label, predicate_uri, object_label, and object_uri 
    fields, save the file, read it in to R as a data frame and use it with 
    the <code>default.annotations</code> argument.</p>    
<p>Some users may want to build annotations.txt from scratch. A few rules 
    to follow when doing this:</p><ul>
<li><p>id - IDs must be unique for each unique subject.</p></li>
<li><p>element - Supported elements and the required syntax is listed 
      under the element column of annotation_defaults.txt. View this file
      with <code><a href='https://rdrr.io/r/utils/View.html'>View(system.file("/templates/annotation_defaults.txt", package = "EMLassemblyline"))</a></code></p></li>
<li><p>context - Context values are only required for elements that are 
      nested within other elements. Currently only /dataTable/attribute 
      elements require context where the dataTable objectName is the context
      (e.g. nitrogen.csv).</p></li>
<li><p>subject - Subjects are required for each annotation. For /dataset
      the subject is "dataset". For /dataTable the subject is the file name.
      For /dataTable/attribute the subjects are the dataTable field names. 
      For /otherEntity the subject is the file name. For /ResponsibleParty
      the subject is created with 
      <code><a href='https://rdrr.io/r/base/paste.html'>paste(first.name, middle.name, last.name, collapse = " ")</a></code></p></li>
</ul>


    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='co'># Set working directory</span>
<span class='fu'><a href='https://rdrr.io/r/base/getwd.html'>setwd</a></span>(<span class='st'>"/Users/me/Documents/data_packages/pkg_260"</span>)

<span class='co'># For a set of EAL templates describing 2 tables and 2 other entities</span>
<span class='fu'>template_annotations</span>(
 <span class='kw'>path</span> <span class='kw'>=</span> <span class='st'>"./metadata_templates"</span>,
 <span class='kw'>data.path</span> <span class='kw'>=</span> <span class='st'>"./data_objects"</span>,
 <span class='kw'>data.table</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"nitrogen.csv"</span>, <span class='st'>"decomp.csv"</span>),
 <span class='kw'>other.entity</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"ancillary_data.zip"</span>, <span class='st'>"processing_and_analysis.R"</span>))

<span class='co'># For an existing EML file</span>
<span class='fu'>template_annotations</span>(
 <span class='kw'>path</span> <span class='kw'>=</span> <span class='st'>"./metadata_templates"</span>,
 <span class='kw'>eml</span> <span class='kw'>=</span> <span class='st'>"edi.260.3.xml"</span>)
}</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Colin Smith.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


