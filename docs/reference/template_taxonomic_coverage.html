<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Describe biological organisms (taxa) — template_taxonomic_coverage • EMLassemblyline</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Describe biological organisms (taxa) — template_taxonomic_coverage" />
<meta property="og:description" content="Describes biological organisms (taxa) occuring in the data and helps resolve them to authority systems. If matches can be made, then the full taxonomic hierarchy of scientific and common names are automatically rendered in the final EML metadata. This enables future users to search on any taxonomic level of interest across data packages in data repositories." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">EMLassemblyline</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">3.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Functions</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/overview.html">Overview</a>
    </li>
    <li>
      <a href="../articles/organize_data_package.html">Organize data package</a>
    </li>
    <li>
      <a href="../articles/create_tmplts.html">Template metadata</a>
    </li>
    <li>
      <a href="../articles/edit_tmplts.html">Edit metadata templates</a>
    </li>
    <li>
      <a href="../articles/create_eml.html">Make EML</a>
    </li>
    <li>
      <a href="../articles/publish_data_package.html">Publish data package</a>
    </li>
    <li>
      <a href="../articles/auto_pub.html">Automate data publication</a>
    </li>
    <li>
      <a href="../articles/exchange_format.html">Use EMLassemblyline via exchange format</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/EDIorg/EMLassemblyline/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Describe biological organisms (taxa)</h1>
    <small class="dont-index">Source: <a href='https://github.com/EDIorg/EMLassemblyline/blob/master/R/template_taxonomic_coverage.R'><code>R/template_taxonomic_coverage.R</code></a></small>
    <div class="hidden name"><code>template_taxonomic_coverage.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Describes biological organisms (taxa) occuring in the data and helps resolve them to authority systems. If matches can be made, then the full taxonomic hierarchy of scientific and common names are automatically rendered in the final EML metadata. This enables future users to search on any taxonomic level of interest across data packages in data repositories.</p>
    </div>

    <pre class="usage"><span class='fu'>template_taxonomic_coverage</span><span class='op'>(</span>
  <span class='va'>path</span>,
  data.path <span class='op'>=</span> <span class='va'>path</span>,
  <span class='va'>taxa.table</span>,
  <span class='va'>taxa.col</span>,
  <span class='va'>taxa.name.type</span>,
  <span class='va'>taxa.authority</span>,
  empty <span class='op'>=</span> <span class='cn'>FALSE</span>,
  write.file <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>path</th>
      <td><p>(character) Path to the metadata template directory.</p></td>
    </tr>
    <tr>
      <th>data.path</th>
      <td><p>(character) Path to the data directory.</p></td>
    </tr>
    <tr>
      <th>taxa.table</th>
      <td><p>(character) Table with a column listing all unique taxa in the data.</p></td>
    </tr>
    <tr>
      <th>taxa.col</th>
      <td><p>(character) Column name in <code>taxa.table</code> listing all unique taxa.</p></td>
    </tr>
    <tr>
      <th>taxa.name.type</th>
      <td><p>(character) Type of name in <code>taxa.col</code>. Can be: <code>scientific</code> or <code>common</code>.</p></td>
    </tr>
    <tr>
      <th>taxa.authority</th>
      <td><p>(integer) Taxonomic authorities as an ordered numeric vector of ID's decreasing in preference. Supported authorities: 3 = <a href='https://www.itis.gov/'>ITIS</a>, 9 = <a href='http://www.marinespecies.org/'>WORMS</a>, 11 = <a href='https://www.gbif.org/'>GBIF</a>.</p></td>
    </tr>
    <tr>
      <th>empty</th>
      <td><p>(logical) Whether to write an empty template file.</p></td>
    </tr>
    <tr>
      <th>write.file</th>
      <td><p>(logical; optional) Whether to write the template file.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    

<dt>taxonomic_coverage</dt><dd><p>Columns:
    <ul>
<li><p>taxa_raw: Taxon name as it occurs in the data. Can be single word or species binomial.</p></li>
<li><p>name_type: Type of name. Can be "scientific" or "common".</p></li>
<li><p>name_resolved: Taxon name as found in an authority system.</p></li>
<li><p>authority_system: Authority system in which the taxa’s name was found. Supported authorities are: "<a href='https://www.itis.gov/'>ITIS</a>", "<a href='http://www.marinespecies.org/'>WORMS</a>", "or "<a href='https://www.gbif.org/dataset/d7dddbf4-2cf0-4f39-9b2a-bb099caae36c'>GBIF</a>". For unsupported authorities, list the authority home page URL. For unresolved taxa use <code>NA</code>.</p></li>
<li><p>authority_id: Taxon identifier in the authority system (e.g. 168469).</p></li>
</ul></p></dd>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>template_taxonomic_coverage()</code> searches the most preferred taxonomic authority for all unique taxa listed in <code>taxa.col</code> returning the authority name and corresponding taxa identifier for direct matches (no fuzzy searching), then the next most preferred taxonomic authority is search for taxa that have not yet been resolved. This process repeats for subsequently listed authorities. "NA" is returned when an authority match is not made.</p>    
<p><code><a href='make_eml.html'>make_eml()</a></code> expands taxa, resolved to supported authorities, into full taxonomic classification. Each level of classification is accompanied by an annotation (listing the <code>authority</code> and <code>authority.id</code>) and common names (only when <code>authority</code> is ITIS or WORMS). Taxa resolved to unsupported authorities, or not resolved at all, will be listed as is defined in the "name_resolved", "authority_system", and "authority_id" columns.</p>    
<p>Character encoding of metadata extracted directly from the tables are converted to UTF-8 via <code><a href='https://rdrr.io/r/base/Encoding.html'>enc2utf8()</a></code>.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='co'># Set working directory</span>
<span class='fu'><a href='https://rdrr.io/r/base/getwd.html'>setwd</a></span><span class='op'>(</span><span class='st'>"/Users/me/Documents/data_packages/pkg_260"</span><span class='op'>)</span>

<span class='co'># For a table containing taxa, try resolving scientific names to ITIS, and if no matches can be made, then try WORMS</span>
<span class='fu'>template_taxonomic_coverage</span><span class='op'>(</span>
  path <span class='op'>=</span> <span class='st'>"./metadata_templates"</span>,
  data.path <span class='op'>=</span> <span class='st'>"./data_objects"</span>,
  taxa.table <span class='op'>=</span> <span class='st'>"decomp.csv"</span>,
  taxa.col <span class='op'>=</span> <span class='st'>"taxa"</span>,
  taxa.authority <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>3</span>,<span class='fl'>9</span><span class='op'>)</span>,
  taxa.name.type <span class='op'>=</span> <span class='st'>"scientific"</span><span class='op'>)</span>
  
<span class='co'># For manually resolving taxa to unsupported authorities, use an empty template</span>
<span class='fu'>template_taxonomic_coverage</span><span class='op'>(</span>
  path <span class='op'>=</span> <span class='st'>"./metadata_templates"</span>,
  empty <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
  
<span class='op'>}</span>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Colin Smith.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


